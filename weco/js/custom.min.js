let mobile=768,fixedBtn=document.querySelector(".fixed-btn");function setFixedBtnLink(){window.innerWidth>1024?fixedBtn.setAttribute("href","https://web.whatsapp.com/send?phone=79399006916&text="):fixedBtn.setAttribute("href","https://api.whatsapp.com/send?phone=79399006916")}function fileFormOnError(e){e.classList.remove("checked"),e.classList.add("error"),e.querySelector("input[type=file]").value="",e.querySelector(".file-form__name").textContent=""}function formSuccess(e){e.querySelectorAll(".form__group").forEach((e=>e.classList.remove("error"))),e.querySelectorAll("input").forEach((e=>{"hidden"!=e.type&&(e.value="",e.checked=!1)})),e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector(".file-form")&&(e.querySelector(".file-form").classList.remove("checked"),e.querySelector(".file-form").classList.remove("error"),e.querySelector(".file-form__name").textContent="");let t=document.querySelector(".modal.show");t&&$(t).modal("hide"),$("#successModal").modal("show")}fixedBtn&&(setFixedBtnLink(),window.addEventListener("resize",setFixedBtnLink)),document.querySelectorAll(".file-form").forEach((e=>{e.querySelector("input").addEventListener("change",(t=>{let r=t.target.files;for(let t=0;t<r.length;t++){let o=r[t];e.classList.remove("error"),e.classList.add("checked"),o.name.length>35?e.querySelector(".file-form__name").textContent=o.name.substr(0,35)+"...":e.querySelector(".file-form__name").textContent=o.name,o.size>2e6?($(".file-form__error").show(),$(".file-form__txt").hide(),e.querySelector(".file-form__name").style.color="#ff0000"):($(".file-form__error").hide(),$(".file-form__txt").show()),$file_type=o.name.split(".").pop(),"jpeg"!=$file_type&&"jpg"!=$file_type&&"png"!=$file_type&&(e.querySelector(".file-form__error").textContent="Ошибка: Допускаются файлы только jpeg, jpg, png")}}))}));let swiperwork,initworkSwiper=!1;function workSwiper(){window.innerWidth<mobile?initworkSwiper||(initworkSwiper=!0,swiperwork=new Swiper(".work-gallery .swiper",{slidesPerView:1.81,spaceBetween:20,observe:!0,observeParents:!0,scrollbar:{el:".work-gallery .swiper-scrollbar",draggable:!0},autoplay:{delay:3500,disableOnInteraction:!1},speed:800})):window.innerWidth>=mobile&&initworkSwiper&&(swiperwork.destroy(),initworkSwiper=!1)}document.querySelector(".work-gallery")&&(workSwiper(),window.addEventListener("resize",workSwiper));let swiperphoto,initphotoSwiper=!1;function photoSwiper(){window.innerWidth<mobile?initphotoSwiper||(initphotoSwiper=!0,swiperphoto=new Swiper(".photo-gallery .swiper",{slidesPerView:1.81,spaceBetween:20,observe:!0,observeParents:!0,autoplay:{delay:3500,disableOnInteraction:!1},scrollbar:{el:".photo-gallery .swiper-scrollbar",draggable:!0},speed:800})):window.innerWidth>=mobile&&initphotoSwiper&&(swiperphoto.destroy(),initphotoSwiper=!1)}document.querySelector(".photo-gallery")&&(photoSwiper(),window.addEventListener("resize",photoSwiper));let swiperdelivery,initdeliverySwiper=!1;function deliverySwiper(){window.innerWidth<mobile?initdeliverySwiper||(initdeliverySwiper=!0,swiperdelivery=new Swiper(".delivery .swiper",{slidesPerView:2.3,spaceBetween:20,observe:!0,observeParents:!0,autoplay:{delay:3500,disableOnInteraction:!1},scrollbar:{el:".delivery .swiper-scrollbar",draggable:!0},speed:800,breakpoints:{576.98:{slidesPerView:3,spaceBetween:20}}})):window.innerWidth>=mobile&&initdeliverySwiper&&(swiperdelivery.destroy(),initdeliverySwiper=!1)}document.querySelector(".delivery")&&(deliverySwiper(),window.addEventListener("resize",deliverySwiper));const scrollBar=document.querySelectorAll(".swiper-scrollbar-wrap");function unshowScrollbar(){setTimeout((()=>{scrollBar&&scrollBar.forEach((e=>{e.querySelector(".swiper-scrollbar-lock")?e.classList.add("lock"):e.classList.remove("lock")}))}),100)}unshowScrollbar(),window.addEventListener("resize",unshowScrollbar);const choiceForm=document.querySelector(".choice-form"),choiceFormBtn=document.querySelector(".choice-form__btn"),modalOrderPlate=document.querySelector("#modalOrderPlate");function setCollection(e){e=choiceForm.querySelector("input[name=collection]:checked").getAttribute("data-val");let t=choiceForm.querySelector(`picture[data-collection="${e}"]`).getAttribute("data-color"),r=choiceForm.querySelector(`picture[data-collection="${e}"]`).getAttribute("data-type");choiceForm.querySelector(`input[data-val="${t}"]`).checked=!0,choiceForm.querySelector(`input[data-val="${r}"]`).checked=!0}function setChoiceImg(){choiceForm.querySelectorAll("label[data-collection]")?collection=choiceForm.querySelector("input[name=collection]:checked").getAttribute("data-val"):collection="";let e=choiceForm.querySelector("input[name=color]:checked").getAttribute("data-val"),t=choiceForm.querySelector("input[name=type]:checked").getAttribute("data-val"),r=collection+e+t;choiceForm.querySelectorAll("label[data-color]")&&choiceForm.querySelectorAll("label[data-color]").forEach((function(e){let r=e.getAttribute("data-color");choiceForm.querySelector(`picture[data-collection="${collection}"][data-color="${r}"][data-type="${t}"]`)?e.style.display="block":e.style.display="none"})),choiceForm.querySelectorAll("label[data-type]")&&choiceForm.querySelectorAll("label[data-type]").forEach((function(t){let r=t.getAttribute("data-type");choiceForm.querySelector(`picture[data-collection="${collection}"][data-color="${e}"][data-type="${r}"]`)?t.style.display="block":t.style.display="none"})),choiceForm.querySelector("picture.d-block")&&(choiceForm.querySelector("picture.d-block").classList.remove("d-block"),choiceForm.querySelector(".choice-form__price.d-block").classList.remove("d-block")),choiceForm.querySelector(`picture[data-val="${r}"]`).classList.add("d-block"),choiceForm.querySelector(`.choice-form__price[data-val="${r}"]`).classList.add("d-block")}choiceFormBtn&&choiceFormBtn.addEventListener("click",(()=>{let e=choiceForm.querySelector("input[name=collection]:checked").value,t=choiceForm.querySelector("input[name=color]:checked").value,r=choiceForm.querySelector("input[name=type]:checked").value;modalOrderPlate.querySelector("input[name=collection]").value=e,modalOrderPlate.querySelector("input[name=color]").value=t,modalOrderPlate.querySelector("input[name=type]").value=r})),choiceForm&&(setChoiceImg(),choiceForm.querySelectorAll("input[name=collection]").forEach((e=>{e.addEventListener("change",(()=>{setCollection()}))})),choiceForm.querySelectorAll("input[type=radio]").forEach((e=>{e.addEventListener("change",(()=>{setChoiceImg()}))})));const mobmenu=document.querySelector(".mobile-menu");function loadYT(){let e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";let t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}mobmenu.querySelector(".button--primary").addEventListener("click",(e=>{e.preventDefault(),burgerMenu.classList.toggle("_active"),mobileMenu.classList.toggle("_active"),setTimeout((()=>{$("#modalCallback").modal("show")}),400)}));const lazyVid=document.querySelectorAll(".lazyload-video");lazyVid&&lazyVid.forEach((e=>{e.addEventListener("click",(function t(){let r=e.getAttribute("data-src").match(/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/|shorts\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*/)[1],o=document.createElement("iframe");o.setAttribute("frameborder","0"),o.setAttribute("allowfullscreen",""),o.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),o.setAttribute("src","https://www.youtube.com/embed/"+r+"?rel=0&showinfo=0&autoplay=1"),e.innerHTML="",e.appendChild(o),e.removeEventListener("click",t)}))}));const promocode=document.querySelector(".promocode");document.querySelector(".promo-btn")&&document.querySelector(".promo-btn").addEventListener("click",(()=>{promocode.classList.contains("show")?(promocode.classList.remove("show"),promocode.querySelector("input").value=""):(promocode.classList.add("show"),promocode.querySelector("input").focus())}));const cartItem=document.querySelectorAll(".cart__item");cartItem&&cartItem.forEach((e=>{const t=e.querySelector(".form-toggle"),r=e.querySelector(".form__number input[name='count']"),o=e.querySelector(".form__number-button-right"),l=e.querySelector(".form__number-button-left"),c=e.querySelector(".d-price small"),i=Number(r.getAttribute("data-step"));let a=r.getAttribute("data-packages");function n(){a=t.querySelector(".form-toggle__item input:checked").value,d()}function d(){c.textContent="/"+a,r.value="шт"===a?r.value*i:Math.ceil(r.value/i)}t&&t.querySelectorAll("input").forEach((e=>{e.addEventListener("change",n)})),o.addEventListener("click",(function(){r.value="шт"===a?+r.value+i:+r.value+1})),l.addEventListener("click",(function(){(r.value>i&&"шт"===a||r.value>1&&"уп"===a)&&(r.value="шт"===a?+r.value-i:+r.value-1)})),r.addEventListener("blur",(function(){if("шт"===a){const e=parseInt(r.value);isNaN(e)||(r.value=Math.ceil(e/i)*i)}})),r.addEventListener("input",(function(){const e=r.value.trim();if(0===e.length)r.value=1;else{const t=parseFloat(e);isNaN(t)||t<=0?r.value=1:r.value=t}})),r.value=1,d()}));const deliveries=document.querySelector("#deliveries");deliveries&&deliveries.querySelectorAll("input").forEach((e=>{e.addEventListener("change",(()=>{2==e.value?(document.querySelector("#cart-pickup").style.display="none",document.querySelector("#cart-address").style.display="block"):(document.querySelector("#cart-pickup").style.display="block",document.querySelector("#cart-address").style.display="none")}))}));