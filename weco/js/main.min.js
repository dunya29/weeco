let mobile=768;function formSuccess(e){e.querySelectorAll(".form__group").forEach((e=>e.classList.remove("error"))),e.querySelectorAll("input").forEach((e=>{"hidden"!=e.type&&(e.value="",e.checked=!1)})),e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector(".file-form")&&(e.querySelector(".file-form").classList.remove("checked"),e.querySelector(".file-form__name").textContent="");let r=document.querySelector(".modal.show");r&&$(r).modal("hide"),$("#successModal").modal("show")}document.querySelectorAll(".file-form").forEach((e=>{e.querySelector("input").addEventListener("change",(r=>{let t=r.target.files;for(let r=0;r<t.length;r++){let o=t[r];e.classList.add("checked"),e.querySelector(".file-form__name").textContent=o.name}}))}));let swiperwork,initworkSwiper=!1;function workSwiper(){window.innerWidth<mobile?initworkSwiper||(initworkSwiper=!0,swiperwork=new Swiper(".work-gallery .swiper",{slidesPerView:1.81,spaceBetween:20,observe:!0,observeParents:!0,scrollbar:{el:".work-gallery .swiper-scrollbar",draggable:!0},autoplay:{delay:3500,disableOnInteraction:!1},speed:800})):window.innerWidth>=mobile&&initworkSwiper&&(swiperwork.destroy(),initworkSwiper=!1)}document.querySelector(".work-gallery")&&workSwiper(),window.addEventListener("resize",workSwiper);let swiperphoto,initphotoSwiper=!1;function photoSwiper(){window.innerWidth<mobile?initphotoSwiper||(initphotoSwiper=!0,swiperphoto=new Swiper(".photo-gallery .swiper",{slidesPerView:1.81,spaceBetween:20,observe:!0,observeParents:!0,autoplay:{delay:3500,disableOnInteraction:!1},scrollbar:{el:".photo-gallery .swiper-scrollbar",draggable:!0},speed:800})):window.innerWidth>=mobile&&initphotoSwiper&&(swiperphoto.destroy(),initphotoSwiper=!1)}document.querySelector(".photo-gallery")&&photoSwiper(),window.addEventListener("resize",photoSwiper);let swiperdelivery,initdeliverySwiper=!1;function deliverySwiper(){window.innerWidth<mobile?initdeliverySwiper||(initdeliverySwiper=!0,swiperdelivery=new Swiper(".delivery .swiper",{slidesPerView:2.3,spaceBetween:20,observe:!0,observeParents:!0,autoplay:{delay:3500,disableOnInteraction:!1},scrollbar:{el:".delivery .swiper-scrollbar",draggable:!0},speed:800,breakpoints:{576.98:{slidesPerView:3,spaceBetween:20}}})):window.innerWidth>=mobile&&initdeliverySwiper&&(swiperdelivery.destroy(),initdeliverySwiper=!1)}document.querySelector(".delivery")&&deliverySwiper(),window.addEventListener("resize",deliverySwiper);const scrollBar=document.querySelectorAll(".swiper-scrollbar-wrap");function unshowScrollbar(){setTimeout((()=>{scrollBar&&scrollBar.forEach((e=>{e.querySelector(".swiper-scrollbar-lock")?e.classList.add("lock"):e.classList.remove("lock")}))}),100)}unshowScrollbar(),window.addEventListener("resize",unshowScrollbar);const choiceForm=document.querySelector(".choice-form"),choiceFormBtn=document.querySelector(".choice-form__btn"),modalOrderPlate=document.querySelector("#modalOrderPlate");function setChoiceImg(){choiceForm.querySelector(".choice-form__img").computedStyleMap.opacity="0";let e="img/plitki/"+choiceForm.querySelector("input[name=collection]:checked").getAttribute("data-val")+"-"+choiceForm.querySelector("input[name=type]:checked").getAttribute("data-val")+"-"+choiceForm.querySelector("input[name=color]:checked").getAttribute("data-val");choiceForm.querySelector(".choice-form__img").innerHTML=`<picture>\n    <source srcset=${e}.jpg type="image/webp">\n    <img src=${e}.jpg alt="Выбор плитки">\n   </picture>`,choiceForm.querySelector(".choice-form__img").computedStyleMap.opacity="1"}function setPrice(){let e=+choiceForm.querySelector("input[name=collection]:checked").getAttribute("data-price")+ +choiceForm.querySelector("input[name=type]:checked").getAttribute("data-price")+ +choiceForm.querySelector("input[name=color]:checked").getAttribute("data-price");choiceForm.querySelector(".choice-form__price").textContent="Цена: "+e+" руб./шт"}choiceFormBtn&&choiceFormBtn.addEventListener("click",(()=>{let e=choiceForm.querySelector("input[name=collection]:checked").value,r=choiceForm.querySelector("input[name=color]:checked").value,t=choiceForm.querySelector("input[name=type]:checked").value;modalOrderPlate.querySelector("input[name=collection]").value=e,modalOrderPlate.querySelector("input[name=color]").value=r,modalOrderPlate.querySelector("input[name=type]").value=t})),choiceForm&&(setChoiceImg(),setPrice(),choiceForm.querySelectorAll("input[type=radio]").forEach((e=>{e.addEventListener("change",(()=>{setChoiceImg(),setPrice()}))})));const mobmenu=document.querySelector(".mobile-menu");function loadYT(){let e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";let r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(e,r)}let player;function onYouTubeIframeAPIReady(){player=new YT.Player("player",{height:"390",width:"640",videoId:"M7lc1UVf-VE",events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(e){e.target.playVideo()}mobmenu.querySelector(".button--primary").addEventListener("click",(e=>{e.preventDefault(),burgerMenu.classList.toggle("_active"),mobileMenu.classList.toggle("_active"),setTimeout((()=>{$("#modalCallback").modal("show")}),400)}));var done=!1;function onPlayerStateChange(e){e.data!=YT.PlayerState.PLAYING||done||(setTimeout(stopVideo,6e3),done=!0)}function stopVideo(){player.stopVideo()}const lazyVid=document.querySelectorAll(".lazyload-video");lazyVid.forEach((e=>{e.querySelector("video")?e.addEventListener("click",(function r(){let t=e.getAttribute("data-src");e.querySelector("video").setAttribute("src",t),e.removeAttribute("data-src"),e.classList.remove("lazyload-video"),e.removeEventListener("click",r)})):e.querySelector("img")&&e.addEventListener("click",(()=>{let r=document.createElement("iframe");r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",""),r.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),r.setAttribute("src","https://www.youtube.com/embed/"+e.dataset.videoId+"?rel=0&showinfo=0&autoplay=1"),e.innerHTML="",e.appendChild(r)}))}));