let mobile=768,fixedBtn=document.querySelector(".fixed-btn");function setFixedBtnLink(){window.innerWidth>1024?fixedBtn.setAttribute("href","https://web.whatsapp.com/send?phone=79399006916&text="):fixedBtn.setAttribute("href","https://api.whatsapp.com/send?phone=79399006916")}function formSuccess(e){e.querySelectorAll(".form__group").forEach((e=>e.classList.remove("error"))),e.querySelectorAll("input").forEach((e=>{"hidden"!=e.type&&(e.value="",e.checked=!1)})),e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector(".file-form")&&(e.querySelector(".file-form").classList.remove("checked"),e.querySelector(".file-form").classList.remove("error"),e.querySelector(".file-form__name").textContent="");let t=document.querySelector(".modal.show");t&&$(t).modal("hide"),$("#successModal").modal("show")}function fileFormOnError(e){e.classList.remove("checked"),e.classList.add("error"),e.querySelector("input").value="",e.querySelector(".file-form__name").textContent=""}fixedBtn&&(setFixedBtnLink(),window.addEventListener("resize",setFixedBtnLink)),document.querySelectorAll(".file-form").forEach((e=>{e.querySelector("input").addEventListener("change",(t=>{let r=t.target.files;for(let t=0;t<r.length;t++){let o=r[t];e.classList.remove("error"),e.classList.add("checked"),e.querySelector(".file-form__name").textContent=o.name}}))}));let swiperwork,initworkSwiper=!1;function workSwiper(){window.innerWidth<mobile?initworkSwiper||(initworkSwiper=!0,swiperwork=new Swiper(".work-gallery .swiper",{slidesPerView:1.81,spaceBetween:20,observe:!0,observeParents:!0,scrollbar:{el:".work-gallery .swiper-scrollbar",draggable:!0},autoplay:{delay:3500,disableOnInteraction:!1},speed:800})):window.innerWidth>=mobile&&initworkSwiper&&(swiperwork.destroy(),initworkSwiper=!1)}document.querySelector(".work-gallery")&&workSwiper(),window.addEventListener("resize",workSwiper);let swiperphoto,initphotoSwiper=!1;function photoSwiper(){window.innerWidth<mobile?initphotoSwiper||(initphotoSwiper=!0,swiperphoto=new Swiper(".photo-gallery .swiper",{slidesPerView:1.81,spaceBetween:20,observe:!0,observeParents:!0,autoplay:{delay:3500,disableOnInteraction:!1},scrollbar:{el:".photo-gallery .swiper-scrollbar",draggable:!0},speed:800})):window.innerWidth>=mobile&&initphotoSwiper&&(swiperphoto.destroy(),initphotoSwiper=!1)}document.querySelector(".photo-gallery")&&photoSwiper(),window.addEventListener("resize",photoSwiper);let swiperdelivery,initdeliverySwiper=!1;function deliverySwiper(){window.innerWidth<mobile?initdeliverySwiper||(initdeliverySwiper=!0,swiperdelivery=new Swiper(".delivery .swiper",{slidesPerView:2.3,spaceBetween:20,observe:!0,observeParents:!0,autoplay:{delay:3500,disableOnInteraction:!1},scrollbar:{el:".delivery .swiper-scrollbar",draggable:!0},speed:800,breakpoints:{576.98:{slidesPerView:3,spaceBetween:20}}})):window.innerWidth>=mobile&&initdeliverySwiper&&(swiperdelivery.destroy(),initdeliverySwiper=!1)}document.querySelector(".delivery")&&deliverySwiper(),window.addEventListener("resize",deliverySwiper);const scrollBar=document.querySelectorAll(".swiper-scrollbar-wrap");function unshowScrollbar(){setTimeout((()=>{scrollBar&&scrollBar.forEach((e=>{e.querySelector(".swiper-scrollbar-lock")?e.classList.add("lock"):e.classList.remove("lock")}))}),100)}unshowScrollbar(),window.addEventListener("resize",unshowScrollbar);const choiceForm=document.querySelector(".choice-form"),choiceFormBtn=document.querySelector(".choice-form__btn"),modalOrderPlate=document.querySelector("#modalOrderPlate");function setChoiceImg(){choiceForm.querySelector(".choice-form__img").computedStyleMap.opacity="0";let e="img/plitki/"+choiceForm.querySelector("input[name=collection]:checked").getAttribute("data-val")+"-"+choiceForm.querySelector("input[name=type]:checked").getAttribute("data-val")+"-"+choiceForm.querySelector("input[name=color]:checked").getAttribute("data-val");choiceForm.querySelector(".choice-form__img").innerHTML=`<picture>\n    <source srcset=${e}.jpg type="image/webp">\n    <img src=${e}.jpg alt="Выбор плитки">\n   </picture>`,choiceForm.querySelector(".choice-form__img").computedStyleMap.opacity="1"}function setPrice(){let e=+choiceForm.querySelector("input[name=collection]:checked").getAttribute("data-price")+ +choiceForm.querySelector("input[name=type]:checked").getAttribute("data-price")+ +choiceForm.querySelector("input[name=color]:checked").getAttribute("data-price");choiceForm.querySelector(".choice-form__price").textContent="Цена: "+e+" руб./шт"}choiceFormBtn&&choiceFormBtn.addEventListener("click",(()=>{let e=choiceForm.querySelector("input[name=collection]:checked").value,t=choiceForm.querySelector("input[name=color]:checked").value,r=choiceForm.querySelector("input[name=type]:checked").value;modalOrderPlate.querySelector("input[name=collection]").value=e,modalOrderPlate.querySelector("input[name=color]").value=t,modalOrderPlate.querySelector("input[name=type]").value=r})),choiceForm&&(setChoiceImg(),setPrice(),choiceForm.querySelectorAll("input[type=radio]").forEach((e=>{e.addEventListener("change",(()=>{setChoiceImg(),setPrice()}))})));const mobmenu=document.querySelector(".mobile-menu");function loadYT(){let e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";let t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}mobmenu.querySelector(".button--primary").addEventListener("click",(e=>{e.preventDefault(),burgerMenu.classList.toggle("_active"),mobileMenu.classList.toggle("_active"),setTimeout((()=>{$("#modalCallback").modal("show")}),400)}));const lazyVid=document.querySelectorAll(".lazyload-video");lazyVid&&lazyVid.forEach((e=>{e.addEventListener("click",(function t(){let r=e.getAttribute("data-src").match(/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/|shorts\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*/)[1],o=document.createElement("iframe");o.setAttribute("frameborder","0"),o.setAttribute("allowfullscreen",""),o.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),o.setAttribute("src","https://www.youtube.com/embed/"+r+"?rel=0&showinfo=0&autoplay=1"),e.innerHTML="",e.appendChild(o),e.querySelector("iframe").muted=!0,e.removeEventListener("click",t)}))}));const promocode=document.querySelector(".promocode");document.querySelector(".promo-btn")&&document.querySelector(".promo-btn").addEventListener("click",(()=>{promocode.classList.contains("show")?(promocode.classList.remove("show"),promocode.querySelector("input").value=""):(promocode.classList.add("show"),promocode.querySelector("input").focus())}));const cartItem=document.querySelectorAll(".cart__item");cartItem&&cartItem.forEach((e=>{const t=e.querySelector(".form-toggle"),r=e.querySelector(".form__number input[name='count']"),o=e.querySelector(".form__number-button-right"),i=e.querySelector(".form__number-button-left"),l=e.querySelector(".d-price small"),c=Number(r.getAttribute("data-step"));let n=r.getAttribute("data-packages");function a(){n=t.querySelector(".form-toggle__item input:checked").value,l.textContent="/"+n,r.value="шт"===n?r.value*c:Math.ceil(r.value/c)}l.textContent="/"+n,t&&(t.querySelectorAll("input").forEach((e=>{e.value===n&&(e.checked=!0)})),t.querySelectorAll("input").forEach((e=>{e.addEventListener("change",a)}))),o.addEventListener("click",(function(){r.value="шт"===n?+r.value+c:+r.value+1})),i.addEventListener("click",(function(){(r.value>c&&"шт"===n||r.value>1&&"уп"===n)&&(r.value="шт"===n?+r.value-c:+r.value-1)})),r.addEventListener("blur",(function(){if("шт"===n){const e=parseInt(r.value);isNaN(e)||(r.value=Math.ceil(e/c)*c)}})),r.addEventListener("input",(function(){const e=r.value.trim();if(0===e.length)r.value=1;else{const t=parseFloat(e);isNaN(t)||t<=0?r.value=1:r.value=t}}))}));const deliveries=document.querySelector("#deliveries");if(deliveries&&deliveries.querySelectorAll("input").forEach((e=>{e.addEventListener("change",(()=>{2==e.value?(document.querySelector("#cart-pickup").style.display="none",document.querySelector("#cart-address").style.display="block"):(document.querySelector("#cart-pickup").style.display="block",document.querySelector("#cart-address").style.display="none")}))})),document.querySelector(".blog-toc")&&document.querySelectorAll(".blog-toc a").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let r=window.pageYOffset||document.documentElement.scrollTop,o=document.querySelector(e.getAttribute("href"));window.scrollTo({top:r+o.getBoundingClientRect().top-80,behavior:"smooth"})}))})),document.querySelector(".blog-aside__swiper")){new Swiper(".blog-aside__swiper",{slidesPerView:1,spaceBetween:20,observe:!0,observeParents:!0,loop:!0,autoplay:{delay:3500,disableOnInteraction:!1},navigation:{nextEl:".blog-aside__buttons .swiper-btn--next",prevEl:".blog-aside__buttons .swiper-btn--prev"},speed:800})}if(document.querySelector(".blog-cards__swiper")){new Swiper(".blog-cards__swiper",{slidesPerView:1,spaceBetween:25,observe:!0,observeParents:!0,loop:!1,breakpoints:{991.98:{slidesPerView:3,spaceBetween:15,loop:!0},500.98:{slidesPerView:2,spaceBetween:15,loop:!1}},scrollbar:{el:".blog-cards .swiper-scrollbar",draggable:!0},navigation:{nextEl:".blog-cards__buttons .swiper-btn--next",prevEl:".blog-cards__buttons .swiper-btn--prev"},speed:800})}const readMore=document.querySelectorAll(".read-more");function readMoreInit(){readMore&&readMore.forEach((e=>{if(e.style.height="auto",e.parentNode.querySelector(".read-more__btn")&&e.parentNode.querySelector(".read-more__btn").remove(),e.clientHeight>288&&window.innerWidth<768){e.style.height="288px",e.insertAdjacentHTML("afterend",'<button class="btn read-more__btn">Подробнее</button>');let t=e.parentNode.querySelector(".read-more__btn");t.addEventListener("click",(()=>{if(t.classList.contains("active"))t.textContent="Подробнее",e.style.height="288px";else{t.textContent="Закрыть",e.style.height="auto";let r=e.clientHeight+"px";e.style.height="288px",setTimeout((function(){e.style.height=r}),0)}t.classList.toggle("active")}))}}))}readMoreInit(),window.addEventListener("resize",readMoreInit);