let mobile=768,fixedBtn=document.querySelector(".fixed-btn");function setFixedBtnLink(){window.innerWidth>1024?fixedBtn.setAttribute("href","https://web.whatsapp.com/send?phone=79399006916&text="):fixedBtn.setAttribute("href","https://api.whatsapp.com/send?phone=79399006916")}function formSuccess(e){e.querySelectorAll(".form__group").forEach((e=>e.classList.remove("error"))),e.querySelectorAll("input").forEach((e=>{"hidden"!=e.type&&(e.value="",e.checked=!1)})),e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector(".file-form")&&(e.querySelector(".file-form").classList.remove("checked"),e.querySelector(".file-form").classList.remove("error"),e.querySelector(".file-form__name").textContent="");let t=document.querySelector(".modal.show");t&&$(t).modal("hide"),$("#successModal").modal("show")}function fileFormOnError(e){e.classList.remove("checked"),e.classList.add("error"),e.querySelector("input").value="",e.querySelector(".file-form__name").textContent=""}fixedBtn&&(setFixedBtnLink(),window.addEventListener("resize",setFixedBtnLink)),document.querySelectorAll(".file-form").forEach((e=>{e.querySelector("input").addEventListener("change",(t=>{let r=t.target.files;for(let t=0;t<r.length;t++){let o=r[t];e.classList.remove("error"),e.classList.add("checked"),e.querySelector(".file-form__name").textContent=o.name}}))}));let swiperwork,initworkSwiper=!1;function workSwiper(){window.innerWidth<mobile?initworkSwiper||(initworkSwiper=!0,swiperwork=new Swiper(".work-gallery .swiper",{slidesPerView:1.81,spaceBetween:20,observe:!0,observeParents:!0,scrollbar:{el:".work-gallery .swiper-scrollbar",draggable:!0},autoplay:{delay:3500,disableOnInteraction:!1},speed:800})):window.innerWidth>=mobile&&initworkSwiper&&(swiperwork.destroy(),initworkSwiper=!1)}document.querySelector(".work-gallery")&&workSwiper(),window.addEventListener("resize",workSwiper);let swiperphoto,initphotoSwiper=!1;function photoSwiper(){window.innerWidth<mobile?initphotoSwiper||(initphotoSwiper=!0,swiperphoto=new Swiper(".photo-gallery .swiper",{slidesPerView:1.81,spaceBetween:20,observe:!0,observeParents:!0,autoplay:{delay:3500,disableOnInteraction:!1},scrollbar:{el:".photo-gallery .swiper-scrollbar",draggable:!0},speed:800})):window.innerWidth>=mobile&&initphotoSwiper&&(swiperphoto.destroy(),initphotoSwiper=!1)}document.querySelector(".photo-gallery")&&photoSwiper(),window.addEventListener("resize",photoSwiper);let swiperdelivery,initdeliverySwiper=!1;function deliverySwiper(){window.innerWidth<mobile?initdeliverySwiper||(initdeliverySwiper=!0,swiperdelivery=new Swiper(".delivery .swiper",{slidesPerView:2.3,spaceBetween:20,observe:!0,observeParents:!0,autoplay:{delay:3500,disableOnInteraction:!1},scrollbar:{el:".delivery .swiper-scrollbar",draggable:!0},speed:800,breakpoints:{576.98:{slidesPerView:3,spaceBetween:20}}})):window.innerWidth>=mobile&&initdeliverySwiper&&(swiperdelivery.destroy(),initdeliverySwiper=!1)}document.querySelector(".delivery")&&deliverySwiper(),window.addEventListener("resize",deliverySwiper);const scrollBar=document.querySelectorAll(".swiper-scrollbar-wrap");function unshowScrollbar(){setTimeout((()=>{scrollBar&&scrollBar.forEach((e=>{e.querySelector(".swiper-scrollbar-lock")?e.classList.add("lock"):e.classList.remove("lock")}))}),100)}unshowScrollbar(),window.addEventListener("resize",unshowScrollbar);const choiceForm=document.querySelector(".choice-form"),choiceFormBtn=document.querySelector(".choice-form__btn"),modalOrderPlate=document.querySelector("#modalOrderPlate");function setChoiceImg(){choiceForm.querySelector(".choice-form__img").computedStyleMap.opacity="0";let e="img/plitki/"+choiceForm.querySelector("input[name=collection]:checked").getAttribute("data-val")+"-"+choiceForm.querySelector("input[name=type]:checked").getAttribute("data-val")+"-"+choiceForm.querySelector("input[name=color]:checked").getAttribute("data-val");choiceForm.querySelector(".choice-form__img").innerHTML=`<picture>\n    <source srcset=${e}.jpg type="image/webp">\n    <img src=${e}.jpg alt="Выбор плитки">\n   </picture>`,choiceForm.querySelector(".choice-form__img").computedStyleMap.opacity="1"}function setPrice(){let e=+choiceForm.querySelector("input[name=collection]:checked").getAttribute("data-price")+ +choiceForm.querySelector("input[name=type]:checked").getAttribute("data-price")+ +choiceForm.querySelector("input[name=color]:checked").getAttribute("data-price");choiceForm.querySelector(".choice-form__price").textContent="Цена: "+e+" руб./шт"}choiceFormBtn&&choiceFormBtn.addEventListener("click",(()=>{let e=choiceForm.querySelector("input[name=collection]:checked").value,t=choiceForm.querySelector("input[name=color]:checked").value,r=choiceForm.querySelector("input[name=type]:checked").value;modalOrderPlate.querySelector("input[name=collection]").value=e,modalOrderPlate.querySelector("input[name=color]").value=t,modalOrderPlate.querySelector("input[name=type]").value=r})),choiceForm&&(setChoiceImg(),setPrice(),choiceForm.querySelectorAll("input[type=radio]").forEach((e=>{e.addEventListener("change",(()=>{setChoiceImg(),setPrice()}))})));const mobmenu=document.querySelector(".mobile-menu");function loadYT(){let e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";let t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}mobmenu.querySelector(".button--primary").addEventListener("click",(e=>{e.preventDefault(),burgerMenu.classList.toggle("_active"),mobileMenu.classList.toggle("_active"),setTimeout((()=>{$("#modalCallback").modal("show")}),400)}));const lazyVid=document.querySelectorAll(".lazyload-video");lazyVid&&lazyVid.forEach((e=>{e.addEventListener("click",(function t(){let r=e.getAttribute("data-src").match(/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/|shorts\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*/)[1],o=document.createElement("iframe");o.setAttribute("frameborder","0"),o.setAttribute("allowfullscreen",""),o.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),o.setAttribute("src","https://www.youtube.com/embed/"+r+"?rel=0&showinfo=0&autoplay=1"),e.innerHTML="",e.appendChild(o),e.querySelector("iframe").muted=!0,e.removeEventListener("click",t)}))}));const stepper=document.querySelectorAll(".stepper");stepper&&stepper.forEach((e=>{let t=e.querySelector("input[type=number]");function r(){t.value<=+t.step.trim()?(e.querySelector(".form__number-button-left").style.pointerEvents="none",t.value=+t.step.trim()):e.querySelector(".form__number-button-left").style.pointerEvents=""}t.value==+t.step.trim()&&(e.querySelector(".form__number-button-left").style.pointerEvents="none"),t.addEventListener("change",r),e.querySelector(".form__number-button-right").addEventListener("click",(()=>{t.value=+e.querySelector("input").value+Number(t.getAttribute("step")),r()})),e.querySelector(".form__number-button-left").addEventListener("click",(()=>{t.value=+t.value-Number(t.getAttribute("step")),r()}))}));const promocode=document.querySelector(".promocode");document.querySelector(".promo-btn")&&document.querySelector(".promo-btn").addEventListener("click",(()=>{promocode.classList.contains("show")?(promocode.classList.remove("show"),promocode.querySelector("input").value=""):(promocode.classList.add("show"),promocode.querySelector("input").focus())}));const cartItem=document.querySelectorAll(".cart__item");cartItem&&cartItem.forEach((e=>{const t=e.querySelector(".form-toggle"),r=e.querySelector(".stepper"),o=e.querySelector(".d-price small");t.querySelectorAll("input").forEach((e=>{let i=r.querySelector("input").getAttribute("step");e.addEventListener("change",(()=>{let e=r.querySelector("input").value;"шт"===t.querySelector("input:checked").value?(r.querySelector("input").value=e*i,r.querySelector("input").setAttribute("step",i),o.textContent="/шт"):(r.querySelector("input").value=Math.ceil(e/i),r.querySelector("input").setAttribute("step","1"),o.textContent="/уп")}))}))}));const deliveries=document.querySelector("#deliveries");deliveries&&deliveries.querySelectorAll("input").forEach((e=>{e.addEventListener("change",(()=>{2==e.value?(document.querySelector("#cart-pickup").style.display="none",document.querySelector("#cart-address").style.display="block"):(document.querySelector("#cart-pickup").style.display="block",document.querySelector("#cart-address").style.display="none")}))}));